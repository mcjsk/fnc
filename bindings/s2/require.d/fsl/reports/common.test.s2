requireS2([
    'fsl/db/repoOrCheckout',
    'fsl/util/repo',
    'fsl/reports/common'],
proc(ignored, rutil, rcom){
    affirm rcom.db;

    var x = rcom.getActiveYears();
    affirm 'array' === typename x;
    affirm x.length() > 0;

    const isLibfossil = 'libfossil' === rutil.getConfig('project-name');

    if(isLibfossil){
        affirm x.indexOf(2014) >= 0;
        affirm x.indexOf(1972) < 0;
    }

    x = rcom.getActiveWeeksForYear(2014);
    affirm 'array' === typename x;
    affirm x.length() > 0;

    if(isLibfossil){
        affirm 1 === x.0;
        affirm x.indexOf(22) < 0 /* no activity that week */;
        affirm x.indexOf(41) > 0 /* when this test was added */;
    }

    x = rcom.getActiveYearsAndWeeks();
    affirm 'array' === typename x;
    affirm x.length() > 0;
    affirm 'integer' === typename x.0.year;
    affirm 'array' === typename x.0.weeks;

});
